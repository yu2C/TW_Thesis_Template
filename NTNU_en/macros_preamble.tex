% This file is common preamble region, 
% it will load in .cls, before hyperref and cleveref package. 
% If your package need load after ``hyperref'' (to get link function), 
% please write in ``\def\macrosAfterHyperref''
% Note: Use \RequirePackage{package} in this file to load package.
% Use \usepackage{package} in preamble of each other tex .
% --------------------------------------------------
% blindtext is used to generating dummy text for testing.
% see https://texblog.org/2011/02/26/generating-dummy-textblindtext-with-latex-for-testing/
% \RequirePackage{blindtext}


% Load packages after ``hyperref''
\def\macrosAfterHyperref{
    % demo , uncomment below 2 lines for use ``glossaries'' with link.
%     \RequirePackage[toc]{glossaries}
%     \makeglossaries
}


% Bibliography management.
% If you use BibLaTeX , use \addbibresource inside below \ifnum block.
% If you use BibTeX , set \bibliography in bibliography.tex
\ifnum \bibManType=2
    % 2 == biber / BibLaTeX
    % Add your bib file here, one \addbibresource one file.
    \addbibresource{demo.bib}
\fi


% A example for define unit command.
\providecommand{\temp}[1]{$\SI{#1}{\degreeCelsius}$}  % \temp{30}  -> 30 °C
\providecommand{\symumm}[1]{$\SI{#1}{\milli\metre}$}  % \symumm{3} -> 3 mm
\providecommand{\symums}[1]{$\SI{#1}{\milli\second}$} % \symums{5} -> 5 ms
\providecommand{\symumM}[1]{$\SI{#1}{\milli\Molar}$}  % \symumM{1} -> 1 mM
\providecommand{\symumv}[1]{$\SI{#1}{\milli\volt}$}   % \symumv{1} -> 1 mv
\providecommand{\symuma}[1]{$\SI{#1}{\milli\ampere}$} % \symuma{1} -> 1 ma

\providecommand{\abs}[1]{\lvert #1 \rvert } % \abs{x} -> |x|, Required package: amsmath


% for todo colors(ref: https://tex.stackexchange.com/a/178806)
\NewDocumentCommand{\todoUnsure}{O{} +m}{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\NewDocumentCommand{\todoChange}{O{} +m}{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\NewDocumentCommand{\todoInfo}{O{} +m}{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\NewDocumentCommand{\todoImprovement}{O{} +m}{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\NewDocumentCommand{\todoThiswillnotshowUnsure}{O{} +m}{\todo[disable,#1]{#2}}


%%%%%%%% for codes %%%%%%%%%
% see https://www.sharelatex.com/learn/Code_listing
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codebgcolor}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{commonStyle}{
    frame=single,
    %backgroundcolor=\color{codebgcolor},
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\footnotesize\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\small\setstretch{1.0},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=t,
    caption={\protect\filename@parse{\lstname}\protect\filename@base\text{.}\protect‌​\filename@ext}, 
        % http://tex.stackexchange.com/questions/174541/only-get-filename-and-extension-of-listing-not-whole-path
    keepspaces=true,
    xleftmargin=1cm,
    %xrightmargin=1cm,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4
}

\lstdefinestyle{consoleStyle}{
    frame=single,
    %backgroundcolor=\color{codebgcolor},
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\footnotesize\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\small\setstretch{1.0},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=t,
    %caption={\protect\filename@parse{\lstname}\protect\filename@base\text{.}\protect‌​\filename@ext}, 
        % http://tex.stackexchange.com/questions/174541/only-get-filename-and-extension-of-listing-not-whole-path
    keepspaces=true,
    xleftmargin=0cm,
    numbers=none,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4
}

\lstdefinestyle{LatexStyle}{
    language={[LaTeX]TeX},
    inputpath={./}, % must same as root tex
    frame=single,
    %backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\scriptsize\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize\setstretch{1.0},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=t,
    %caption={\protect\filename@parse{\lstname}\protect\filename@base\text{.}\protect‌​\filename@ext}, 
        % http://tex.stackexchange.com/questions/174541/only-get-filename-and-extension-of-listing-not-whole-path
    keepspaces=true,
    xleftmargin=1cm,
    %xrightmargin=1cm,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4
}

\lstset{style=commonStyle} % default style
\renewcommand{\lstlistingname}{Code} % change title of caption to ``Code'' from ``Listing'' 
